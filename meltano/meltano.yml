version: 1
default_environment: dev
project_id: desafiolh-445818

environments:
  - name: dev
    config: {}
  - name: staging
    config: {}
  - name: prod
    config: {}

plugins:
  extractors:
    - name: tap-postgres
      variant: meltanolabs
      pip_url: git+https://github.com/MeltanoLabs/tap-postgres.git
      config:
        include_paths:
          - ./plugins/custom/custom_config.yml
          - ./plugins/extractors/extractors_config.yml
          - ./plugins/loaders/loaders_config.yml
          - ./plugins/mappers/mappers_config.yml
        select:
          - sales-salesorderheader.*
          - sales-salesorderdetail.*
          - production-product.*
          - production-productinventory.*

  loaders:
    - name: target-bigquery
      variant: z3z1ma
      pip_url: git+https://github.com/z3z1ma/target-bigquery.git
      config:
        project: desafioadventureworks-445317
        dataset: raw_data
        credentials_path: /project/desafioadventureworks-445317-09719dd72590.json
        schema_mapping:
          hr: hr
          humanresources: humanresources
          person: person
          production: production
          public: public
          purchasing: purchasing
          sales: sales

    - name: target-jsonl
      variant: andyh1203
      pip_url: target-jsonl

  transformers:
    - name: dbt
      variant: dbt-labs
      pip_url: "dbt-core~=1.3.0 dbt-postgres~=1.3.0 dbt-redshift~=1.3.0 dbt-snowflake~=1.3.0 dbt-bigquery~=1.3.0"
